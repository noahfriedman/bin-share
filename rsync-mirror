#!/bin/sh
# $Id: rsync-mirror,v 1.6 2007/08/11 22:54:07 friedman Exp $

RSYNC_RSH=${RSYNC_RSH-rsh}
export RSYNC_RSH

case $* in
  *-quiet* ) : ;;
  *          ) set x --verbose ${1+"$@"} ; shift ;;
esac

case $* in
  *-inplace* ) : ;;
  *          ) set x --sparse ${1+"$@"} ; shift ;;
esac

case ${UID-`id -u`} in
  0 ) set x --devices   \
            --acls      \
            --xattrs    \
            ${1+"$@"}
      shift ;;
esac

set x \
	--owner		\
	--group		\
	--perms		\
	--times		\
			\
	--hard-links	\
	--links		\
			\
	--delete	\
	--force		\
			\
	--recursive	\
	${1+"$@"}
shift

exec ${RSYNC-rsync} ${1+"$@"}

# eof
