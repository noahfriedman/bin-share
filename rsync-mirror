#!/bin/sh
# $Id: rsync-mirror,v 1.3 2006/11/01 01:50:29 friedman Exp $

RSYNC_RSH=${RSYNC_RSH-rsh}
export RSYNC_RSH

case $* in
  *-quiet* ) : ;;
  *          ) set x --verbose ${1+"$@"} ; shift ;;
esac

case $* in
  *-inplace* ) : ;;
  *          ) set x --sparse ${1+"$@"} ; shift ;;
esac

case ${UID-`id -u`} in
  0 ) set x --devices ${1+"$@"} ; shift ;;
esac

set x \
	--owner		\
	--group		\
	--perms		\
	--times		\
	${RSYNC_NOACLS-"--acls"} \
	${RSYNC_NOXATTR-"--xattrs"} \
			\
	--hard-links	\
	--links		\
        --specials      \
			\
	--delete	\
	--force		\
			\
	--recursive	\
	${1+"$@"}
shift

exec ${RSYNC-rsync} ${1+"$@"}

# eof
